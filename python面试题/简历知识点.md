[TOC]



#  restful设计

REST-REpresentational State Transfer：表现状态转移。

+ url定义资源，用HTTP动词（GET，POST，DELETE，DETC）描述操作
+ GET 用来获取资源，
  POST 用来新建资源（也可以用于更新资源），
  PUT 用来更新资源，
  DELETE 用来删除资源
+ Server和Client之间传递某资源的一个表现形式
+ 用 HTTP Status Code传递Server的状态信息。比如最常用的 200 表示成功，500 表示Server内部错误等。

# django中实现限流



# django和drf相关 

## 最最简短的语言描述django

将数据库的东西通过ORM的映射取出来，通过view文件，按照template文件排出的模板渲染成HTML。当用户请求相应的url时，返回相应的结果。

## 最少的语言描述DRF

将数据库的东西通过ORM的映射取出来，通过view和serializers文件绑定REST接口，当前端请求时，返回序列化好的json。

## DRF在django的基础上做了什么

DRF是Django的超集，去掉了模板的部分，提供了一个REST的接口，同时也提供了满足该接口的代码工作流。同时，在REST的规范下，升级了权限和分页等功能，增加了限流和过滤搜索等功能。

## CSRF（防止跨站请求伪造）

原理：

当使用post提交数据时，Django会检查是否有一个CSRF的随机字符，没有就会报403错误。

全局中设置了中间件。

局部上：

+ FBV模式中：
  + @csrf_protect，为当前函数强制设置防跨站请求伪造功能
  + @csrf_exempt，取消当前函数跨站请求伪造功能
+ CBV模式中：
  +  @method_decorator(csrf_protect)
  + @csrf_exempt

在from表单中添加{% csrf_token%}

**csrf在前端的key为：X-CSRFtoken**

## DRF的权限管理

https://www.chenshaowen.com/blog/permissions-of-django-rest-framework.html



## django中的MVC

- **Model（模型）** - 模型代表一个存取数据的对象或 JAVA POJO。它也可以带有逻辑，在数据变化时更新控制器。
- **View（视图）** - 视图代表模型包含的数据的可视化。
- **Controller（控制器）** - 控制器作用于模型和视图上。它控制数据流向模型对象，并在数据变化时更新视图。它使视图与模型分离开。